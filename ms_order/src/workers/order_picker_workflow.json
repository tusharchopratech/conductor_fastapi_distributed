{
  "name": "order_picker_outbox_workflow",
  "description": "Workflow to pick unplaced order and start order processing workflow.",
  "version": 1,
  "tasks": [
    {
      "name": "order_picker_outbox_task_loop",
      "taskReferenceName": "order_picker_outbox_task_loop_ref",
      "description": "Task to pick order and submit to warehouse.",
      "type": "DO_WHILE",
      "loopCondition": "$.order_picker_outbox_ref.result=='KEEP_GOING'",
      "loopOver": [
        {
          "name": "poll_wait",
          "taskReferenceName": "poll_wait_ref",
          "type": "WAIT",
          "inputParameters": {
            "duration": "15s"
          }
        },
        {
          "name": "order_picker_outbox",
          "taskReferenceName": "order_picker_outbox_ref",
          "type": "SIMPLE",
          "asyncComplete": false,
          "taskDefinition": {
            "responseTimeoutSeconds": 30,
            "timeoutSeconds":30,
            "retryCount": 30,
            "totalTimeoutSeconds": 45,
            "pollTimeoutSeconds": 30,
            "timeoutPolicy": "RETRY"
          }
        }
      ]
    }    
  ]
}